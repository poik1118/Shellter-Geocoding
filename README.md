# 🗺️ 감정평가기관 지도 시각화 시스템

## 📖 프로젝트 소개

이 프로젝트는 **주택도시보증공사**에서 선정한 **감정평가기관**들의 위치와 분포를 지도에 시각화하는 시스템입니다. 

### ✨ 주요 기능
- 🏢 **감정평가기관 위치 표시**: 각 기관의 정확한 위치를 지도에 마커로 표시
- 🎨 **지역별 분포도**: 색상으로 감정평가기관 수를 직관적으로 표시
- 🗺️ **다양한 지도 유형**: Google 지도, 위성지도, 지형지도, OpenStreetMap 지원
- 📱 **반응형 인터페이스**: 모바일과 데스크톱에서 모두 사용 가능

---

## 🚀 시작하기

### 📋 필요한 준비물
- Python 3.10.X
- 인터넷 연결 (지도 데이터 다운로드용)
- VWorld API 키 (무료)

### 📥 설치 방법

1. **프로젝트 다운로드**
   ```bash
   git clone https://github.com/your-username/GeoCode.git
   cd GeoCode
   ```

2. **필요한 패키지 설치**
   ```bash
   pip install -r requirements.txt
   ```

3. **VWorld API 키 설정**
   - [VWorld](https://www.vworld.kr/)에서 무료 계정 생성
   - API 키 발급받기 (무료)
   - 프로젝트 루트에 `.env` 파일 생성:
   ```
   VWORLD_API_KEY=your_vworld_api_key_here
   ```

4. **데이터 파일 확인**
   - `data/주택도시보증공사_전세보증금반환보증 선정 감정평가기관.csv` 파일이 있는지 확인

---

## 🎯 사용 방법

### 1️⃣ 주소 좌표 변환 (새로운 데이터용)
```bash
python geocoding/geo.py
```
- 원본 CSV 파일의 주소를 위도/경도로 변환
- VWorld API 사용 (무료)
- 변환된 데이터는 `data/주택도시보증공사_전세보증금반환보증_선정_정평가기관_GEO.csv`에 저장

### 2️⃣ 지도 생성 및 시각화
```bash
python map/감정평가기관_지도.py
```
감정평가기관_지도는 감정평가기관_지도_마커와 감정평가기관_지도_분포도의 기능이 합쳐진 메인 파일입니다 

### 3️⃣ 실행 후 자동으로 열리는 기능
- 🌐 **브라우저 자동 실행**: 지도가 자동으로 브라우저에서 열립니다
- 📁 **파일 저장**: `html/감정평가기관_지도.html` 파일로 저장됩니다

---

## 🎨 지도 기능 설명

### 🗺️ 지도 유형 선택
우측 상단의 **레이어 컨트롤**에서 원하는 지도를 선택할 수 있습니다:

| 🎯 지도 유형 | 📝 설명 | 💡 사용 시기 |
|-------------|---------|-------------|
| **Google 일반지도** | 🏠 도로와 건물이 표시된 일반적인 지도 | 📍 정확한 주소 찾기 |
| **Google 지형지도** | 🏔️ 산과 지형이 표시된 지도 | 🏃‍♂️ 지형 파악 |
| **Google 위성지도** | 🛰️ 실제 위성 사진 | 🏢 건물 외관 확인 |
| **OpenStreetMap** | 🌍 무료 오픈소스 지도 | 💰 비용 없이 사용 |

### 🎨 분포도 색상 의미
우측 하단의 **범례**를 통해 지역별 감정평가기관 수를 확인할 수 있습니다:

| 🎨 색상 | 📊 감정평가기관 수 | 💼 의미 |
|---------|------------------|---------|
| 🔴 **진한 빨강** | 35개 이상 | 🏆 **최고 밀집 지역** |
| 🔴 **빨강** | 30-34개 | 🥇 **높은 밀집 지역** |
| 🟠 **주황** | 25-29개 | 🥈 **중상위 밀집 지역** |
| 🟠 **밝은 주황** | 20-24개 | 🥉 **중위 밀집 지역** |
| 🟡 **노랑** | 15-19개 | 📈 **보통 밀집 지역** |
| 🟡 **연한 노랑** | 10-14개 | 📊 **낮은 밀집 지역** |
| ⚪ **흰색** | 5-9개 | 📉 **매우 낮은 밀집 지역** |
| 🔵 **연한 파랑** | 5개 미만 | 🌱 **신규 진입 지역** |

---

## 🖱️ 마커 사용법

### 📍 마커 클릭
- 각 감정평가기관의 마커를 클릭하면 **상세 정보**가 표시됩니다
- 기관명, 주소, 연락처 등의 정보를 확인할 수 있습니다

### 🔍 마커 검색
- 지도를 확대/축소하여 원하는 지역의 마커를 찾을 수 있습니다
- 마우스 휠로 확대/축소, 드래그로 이동이 가능합니다

---

## 📁 프로젝트 구조

```
GeoCode/
├── 📄 README.md                      # 프로젝트 설명서 (이 파일)
├── 📄 requirements.txt               # Python 패키지 목록
├── 📄 .gitignore                     # Git 제외 파일 목록
├── 📄 .env                           # VWorld API 키 설정 파일 (사용자 생성)
├── 📁 geocoding/                     # 주소 좌표 변환 폴더
│   └── 🐍 geo.py                     # VWorld API 기반 주소 좌표 변환 ⭐
├── 📁 data/                          # 데이터 폴더
│   ├── 📊 주택도시보증공사_전세보증금반환보증 선정 감정평가기관.csv  # 원본 데이터
│   └── 📊 주택도시보증공사_전세보증금반환보증_선정_정평가기관_GEO.csv # 좌표 변환된 데이터
├── 📁 map/                           # 지도 생성 폴더
│   └── 🐍 감정평가기관_지도.py        # 메인 지도 생성 파일 ⭐
└── 📁 html/                          # 생성된 지도 파일 폴더
    └── 🌐 감정평가기관_지도.html      # 생성된 통합 지도
```

---

## 📊 데이터 구조

### 📁 입력 파일
- **파일명**: `data/주택도시보증공사_전세보증금반환보증_선정_정평가기관_GEO.csv`
- **포맷**: CSV (쉼표로 구분된 값)
- **필수 컬럼**: 기관명, 주소, 위도, 경도

### 📤 출력 파일
- **파일명**: `html/감정평가기관_지도.html`
- **포맷**: HTML (웹 브라우저에서 열 수 있음)
- **특징**: 인터넷 연결 없이도 로컬에서 실행 가능

---

## ⚠️ 주의사항

### 📊 데이터 처리 관련
- **일부 인식 불가 업체**: 원본 데이터에서 자동으로 인식되지 않는 업체들은 **직접 가공**을 통해 처리되었습니다
- **위치 정확도**: 모든 업체의 위도/경도 좌표는 주소 기반으로 변환되어 정확도에 차이가 있을 수 있습니다
- **데이터 업데이트**: 감정평가기관 정보는 정기적으로 변경될 수 있으므로, 최신 정보 확인이 필요합니다.

---

## 🆘 문제 해결

### 🚨 오류 메시지가 나타날 때
1. **콘솔 출력 확인**: 터미널에 표시되는 오류 메시지를 확인
2. **파일 경로 확인**: CSV 파일이 올바른 위치에 있는지 확인
3. **인터넷 연결 확인**: 지도 데이터 다운로드를 위한 인터넷 연결 필요

---